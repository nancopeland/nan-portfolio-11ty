<!doctype html>
<html lang="en">
  	<head>
  		<meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<!-- need to add favicon -->
    	<link rel="icon" type="image/png" href="/assets/img/favicon.png">
		<title>nan copeland dot com</title>
		<meta name="description" content="Nan Copeland&#39;s personal site">
		<!-- covik sans --> 
		<link rel="stylesheet" href="https://use.typekit.net/ylp6uud.css">
		<link rel="stylesheet" href="/css/style.css">
	</head>
  	<body>
  		<nav>
			<a href="/">&#9996; Home</a>
		</nav>
    	<article>
	<h1>Flex grid menu</h1>
<p class="date">March 25, 2018</p>
<p>I re-coded the <a href="https://www.retaildive.com/">menu</a> for all Industry Dive products using a flex grid. This resulted in a more accessible menu with code that scales better for growth.</p>
<p><img src="/img/flex_menu/menu.png" alt="menu"></p>
<h2>Goals</h2>
<p>Going into this project, my two main goals were:</p>
<ol>
<li>Make the menu more accessible at a higher number of screen sizes</li>
<li>Make the code more scalable for a growing number of variants in the menu</li>
</ol>
<p>For inspiration, I looked at both <a href="https://www.vox.com/">Vox</a> and <a href="https://github.com/">GitHub's</a> menus to see how they structured their HTML and CSS because they had similar content (logo, regular menu and sub menu). Both publications use flex grids.</p>
<h2>Research</h2>
<p>I started by researching all grid methods. Industry Dive currently uses a modified <a href="https://foundation.zurb.com/">Foundation grid</a> for all sites because it is responsive and well-supported. When I had brought up an alternate grid before, the main concern was support, specifically in Internet Explorer, so I needed to prove that whatever I chose would work within these constraints.</p>
<p>The most helpful articles were <a href="https://hackernoon.com/the-ultimate-css-battle-grid-vs-flexbox-d40da0449faf">this Hacker Noon article</a> that explains flex vs. CSS grid and <a href="https://philipwalton.github.io/solved-by-flexbox/demos/grids/">Philip Walton's article</a> on how flex grids work in general.</p>
<p>The Hacker Noon article mentions that &quot;Flexbox is made for one dimensional layouts and Grid is made for two dimensional layouts.&quot; Because I was only re-coding the menu (not the whole site), I decided to go with flex. As you can see below, flexbox has great support. From my research, CSS grids seem really cool but are still pretty new and not well-supported.</p>
<p><img src="/img/flex_menu/flex_support.png" alt="flex grid support">
<span class="caption">Flex grid support, screenshot from <a href="https://caniuse.com/#feat=flexbox">Can I Use</a></span></p>
<h2>Reassessing the menu SCSS</h2>
<p>First, I broke up the menu SCSS so it was easier to manage. This was pretty straightforward: the menu CSS was previously all in one SCSS partial so I broke it up into three partials:</p>
<pre class="language-scss"><code class="language-scss">_base.scss<br>_desktop.scss<br>_mobile.scss</code></pre>
<p>Currently, the desktop and mobile menus run off almost completely separate code and the small amount of code shared is in <code>_base.scss</code>. To implement the flex grid, I would mainly be editing the desktop and base menus so the split made the code more maintainable and easier to read.</p>
<pre class="language-scss"><code class="language-scss"><span class="token comment">/* _menu.scss */</span><br><span class="token keyword">@import</span> <span class="token string">'base'</span><span class="token punctuation">;</span> <br><span class="token keyword">@import</span> <span class="token string">'mobile'</span><span class="token punctuation">;</span><br><span class="token keyword">@import</span> <span class="token string">'desktop'</span><span class="token punctuation">;</span></code></pre>
<h2>Setting up flex grid</h2>
<p>As previously mentioned, the menu was originally written using a Foundation (float) grid. Because this only controls the widths, floats and clearing for each column, all other elements needed to be manually styled. For example, each <span class="inline-code"><code>&lt;ul&gt;</code></span> list below's <span class="inline-code"><code>&lt;li&gt;</code></span> items needed to be styled with <span class="inline-code"><code>display: inline-block</code></span> to make the menu horizontal.</p>
<p>With the new flex grid structure, neither the floats nor inline styling were necessary, because the flex grid does this for you. This is easier to manage and scale.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>site-menu<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>site-menu-inner<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>menu-content-wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>desktop-menu-main<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>                <span class="token comment">&lt;!-- desktop menu, not visible on mobile --></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mobile-menu-toggle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>                <span class="token comment">&lt;!-- mobile menu toggle icon, not visible on desktop --></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>desktop-menu-sub list-no-bullets<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>                <span class="token comment">&lt;!-- sub desktop menu, not visible on mobile --></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span></code></pre>
<p>For the SCSS, most of it made sense after reading the flex grid documentation mentioned above.</p>
<p>The most confusing property related to the flex grid is <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/flex">flex</a>. The two most frequently used styles are <span class="inline-code"><code>flex: auto</code></span> and <span class="inline-code"><code>flex: initial</code></span>. <span class="inline-code"><code>auto</code></span> grows or shrinks according to the free space in the container while <span class="inline-code"><code>flex: initial</code></span> only shrinks to fill the minimum size of the container. Both styles are used on <span class="inline-code"><code>.menu-content-wrapper</code></span>, which wraps both menus. <span class="inline-code"><code>initial</code></span> is used on mobile screens while <span class="inline-code"><code>auto</code></span> is used on medium and large screens.</p>
<pre class="language-scss"><code class="language-scss"><span class="token selector">.site-menu-inner </span><span class="token punctuation">{</span><br>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span> <span class="token comment">// vertically centers all items</span><br>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span> <br>    <span class="token property">height</span><span class="token punctuation">:</span> 55px<span class="token punctuation">;</span><br>    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span> <span class="token comment">// added so mobile menu stays on the right</span><br>    <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span> <br>    <span class="token property">max-width</span><span class="token punctuation">:</span> 75rem<span class="token punctuation">;</span> <br><span class="token punctuation">}</span> <br><span class="token selector">.menu-content-wrapper </span><span class="token punctuation">{</span><br>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><br>    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span><br>    <span class="token property">flex</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span> <span class="token comment">// initial is flex: 0 1 auto;</span><br><span class="token punctuation">}</span><br><span class="token atrule"><span class="token rule">@media</span> screen <span class="token operator">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> <span class="token variable">$menu-breakpoint</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>    <span class="token selector">.menu-content-wrapper </span><span class="token punctuation">{</span><br>        <span class="token property">flex</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token comment">// auto is flex: 1 1 auto; </span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><span class="token selector">.desktop-menu-main,<br>.desktop-menu-sub </span><span class="token punctuation">{</span><br>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span> <br><span class="token punctuation">}</span></code></pre>
<h2>Making the flex grid responsive</h2>
<p>So far, the changes to the menu haven't changed what it actually looks like. But, as previously stated, one of the goals of this project was to make the menu more accessible on smaller screen sizes. Making it work on mobile is a different project but what about tablets and small laptops? This was going to involve some slight visual changes.</p>
<p><img src="/img/flex_menu/medium_menu_before.png" alt="medium menu before">
<span class="caption">Before (on smaller desktop screens)</span></p>
<p><img src="/img/flex_menu/medium_menu_after.png" alt="medium menu after">
<span class="caption">After (on smaller desktop screens)</span></p>
<p>The first thing to change was the <strong>sub menu CTAs</strong> (the menu on the right). To account for the thinner screen width, I removed the CTA for &quot;search&quot; because the magnifying glass is fairly universally known to represent &quot;search&quot;. I considered removing the CTA for the newsletter signup link as well but I don't think the email icon makes much sense without &quot;signup&quot;.</p>
<p>The other element to address was the <strong>&quot;Topics&quot; menu</strong>. On desktop, the &quot;Topics&quot; menu is visible at the top of the page but changes to a dropdown on scroll (see screenshot above). It is also a horizontal menu. I knew on a medium-sized screen, all the items in the menu wouldn't fit horizontally so it should be vertical.</p>
<p><img src="/img/flex_menu/medium_topics_menu_open.png" alt="topics menu">
<span class="caption">Topics menu open on medium screens</span></p>
<h2>Finishing touches</h2>
<p>To make the menu fully work, I had to reassess the JS associated with the menu and update the SCSS breakpoints so this actually worked across the 15 different menus running on this code (see all pubs <a href="https://www.retaildive.com/about/">here</a>).</p>
<p><img src="/img/flex_menu/smt_menu.png" alt="smt menu">
<span class="caption"><a target="_blank" href="https://www.socialmediatoday.com/">Social Media Today</a> menu on medium screens</span></p>
<p><img src="/img/flex_menu/biopharma_menu.png" alt="biopharma menu">
<span class="caption"><a target="_blank" href="https://www.biopharmadive.com/">BioPharma Dive</a> menu on medium screens</span></p>
<p>Although the JS and SCSS breakpoints brought about some complications, I plan to clean them up in the future. I also want to update the code so the menu is fully responsive from mobile to desktop (goodbye hamburger menu), not just across medium and desktop.</p>

</article>
    	<footer>
    		<p>This site was created using <a href="https://www.11ty.dev/">11ty</a>. It uses <a href="https://ohnotype.co/fonts/covik">Covik Sans</a> from <a href="https://ohnotype.co/">OH no Type Company</a> via <a href="https://fonts.adobe.com/">Adobe Fonts</a>.</p>
    	</footer>
  	</body>
</html>